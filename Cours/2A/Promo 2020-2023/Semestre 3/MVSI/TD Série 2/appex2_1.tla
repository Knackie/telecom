-------------------------------- MODULE appex2_1 --------------------------------
EXTENDS Naturals,TLC 
VARIABLES M
CONSTANT  T
Places == {"p11","p21","p22","p12","p31","p33","p0"}



\* condition de t1
t1 == 
        /\ M["p11"] \geq 1 /\ M["p12"] \geq 1 /\ M["p0"] \geq 1
        /\ M' = [[[[[M  EXCEPT! ["p11"] = @-1] 
                        EXCEPT!["p12"] = @-1] 
                        EXCEPT!["p21"] = @+1] 
                        EXCEPT!["p31"] = @+1] 
                        EXCEPT!["p0"]= @-1]




t2 == 
        /\  M["p21"] \geq 1
        /\  M' = [[[M EXCEPT!["p21"] = @-1]
                      EXCEPT!["p22"] = @+2]
                      EXCEPT!["p11"] = @+1]



t3 == 
        /\  M["p31"] \geq 1
        /\  M' = [[[M EXCEPT! ["p31"] = @-1]  
                       EXCEPT!["p33"] = @+1] 
                       EXCEPT!["p12"] = @+1]


------------------------------------------------------------------------

Init == M = [p \in Places |-> IF p \in {"p11","p12"} THEN 1 ELSE 0 ]
Next ==  t1 \/ t2 \/ t3 \/ M'=M

------------------------------------------------------------------------
Q == M["p11"]=1 /\ M["p12"]=1 => 2*M["p33"]= M["p22"]


Q1 == M["p22"]#32

Q2 == M["p21"]=1 /\ M["p31"]=1 => M["p22"]= 2*M["p33"] 

test == Q2

=============================================================================

